<!DOCTYPE html>
<html lang="no">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
  <!--Bulma Framework-->
  <link href="css/index.css" rel="stylesheet">
  <link rel="stylesheet" href="css/menu.css">
  <link href="css/navbar.css" rel="stylesheet">
  <script type="module" src="scripts/menu.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>

  <title>Meny</title>
</head>

<body>

  <!-- Navbar script -->
  <div id="navContainer" style="margin-bottom: 2rem;"></div>
  <script src="scripts/navbar.js"></script>

  <!--Feedback-field-->
  <div>
    <p id="feedback-pizza-remove"></p>
    <p id="feedback-pizza-add"></p>
  </div>


  <main class="container">
    <!--Start of container-->

    <section class="columns">
      <!--Start of button-section-->

      <article class="column is-3 is-offset-1">

        <section id="button-section">

          <div class="level-left buttons has-addons">


            <button id="menu-btn" class="button is-warning is-medium is-outlined c-font">Pizza</button>


            <a href="drinkmenu.html" class="button is-warning is-medium is-outlined c-font" id="drikke-btn">Drikke</a>

          </div>

        </section>

      </article>

      <article class="column is-1 is-offset-1">
        <a href="menustatistics.html" id="statistics-btn"
          class="button is-warning is-medium is-outlined c-font">Pizza-Statistikk
        </a>

      </article>

      <article class="column is-2 is-offset-3">

        <section>

          <div>
            <button id="modal-btn" class="button is-medium is-warning trigger c-font"><i class="fas fa-plus"></i>
              Legg
              til</button>
          </div>

        </section>

        <!--Modal appearing when "Legg til" is clicked-->
        <div class="modal" id="modal-one">
          <div class="modal-background"></div>
          <div class="modal-content">
            <!--Box for input-->
            <div class="box">
              <article class="media">
                <div class="media-content">
                  <!--Adding image-->
                  <p class="columns is-centered modal-title"> Bilde: </p>
                  <div class="columns is-centered">
                    <figure class="image is-128x128">
                      <img id="pizza-img" src="images/logo/pizzalogo.png" alt="add picture">
                    </figure>
                  </div>
                  <div id="file-js-example" class="file has-name is-centered">
                    <label class="file-label">
                      <input class="file-input chooseFile" type="file" name="resume" accept="image/*"
                        onchange="showMyImage(this)">
                      <span class="file-cta">
                        <span class="file-icon">
                          <i class="fas fa-upload"></i>
                        </span>
                        <span class="file-label">
                          Velg fil…
                        </span>
                      </span>
                    </label>
                  </div>

                  <!--Input fields for new pizza-->
                  <div class="content">
                    <p class="modal-title">
                      Navn på pizza:
                    </p>

                    <input class="input is-medium is-rounded" id="pizza-name" type="text">

                    <p class="modal-title">
                      Ingredienser:
                    </p>

                    <input class="input is-medium is-rounded" id="pizza-ingreds" type="text">
                    <p class="modal-title">
                      Allergener:
                    </p>

                    <input class="input is-medium is-rounded" id="pizza-allergs" type="text">
                    <p class="modal-title">
                      Pris:
                    </p>

                    <input class="input is-medium is-rounded" id="pizza-price" type="number">

                    <!--Add pizza button-->
                    <section class="columns is-centered" style="margin-top: 10px;">
                      <button class="button c-font" id="add-btn" onclick="addedPizzaSuccess()"
                        style="background-color: #FFDD57;">Legg til</button>
                    </section>
                  </div>

                </div>
              </article>
            </div>
          </div>
          <button class="modal-close is-large is-rounded" aria-label="close"></button>
        </div>

        <!--Modal edit-->
        <div class="modal" id="modal-2">
          <div class="modal-background" id="modal-background2"></div>
          <div class="modal-content" id="edit-content">

            <section class="columns is-centered" style="margin-top: 10px;">
              <button class="button" style="background-color: #FFDD57;">Bekreft Endring</button>
            </section>
          </div>
        </div>
      </article>
    </section>
    <!--End of button-section-->

    <!--Adding pizza element-->
    <section id="card-container" class="columns">
      <article id="pizza-list" class="column is-10"></article>
    </section>

  </main>
  <!--Script for when add pizza is clicked, to add pizza-->
  <script src="scripts/modal.js"></script>

  <script>
    //Preview img function
    function showMyImage(fileInput) {
      let files = fileInput.files;
      for (let i = 0; i < files.length; i++) {
        let file = files[i];
        let imageType = /image.*/;
        if (!file.type.match(imageType)) {
          continue;
        }

        let img = document.getElementById("pizza-img");
        img.file = file;
        let reader = new FileReader();
        reader.onload = (function (aImg) {
          return function (e) {
            aImg.src = e.target.result;
          };
        })(img);
        reader.readAsDataURL(file);
      }
    }
  </script>

</body>

</html>